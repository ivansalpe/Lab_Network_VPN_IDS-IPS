# Archivo: vyos-bootstrap.conf
# Configuración inicial para laboratorio
# Autor: ivansalpe

# Interfaces
set interfaces ethernet eth0 address '192.168.1.2/24'   # WAN (hacia Internet/ISP)
set interfaces ethernet eth1 address '10.10.0.1/24'     # LAN interna
set interfaces ethernet eth2 address '10.10.2.1/24'     # VPN
set interfaces ethernet eth3 address '10.10.3.1/24'     # DMZ

# Hostname
set system host-name 'FW-EDGE-01'

# DNS
set system name-server '8.8.8.8'
set system name-server '1.1.1.1'

# Usuario y contraseña inicial
set system login user vyos authentication plaintext-password 'lab123'

# SSH
set service ssh port '22'

# Rutas
set protocols static route 0.0.0.0/0 next-hop 192.168.1.1 description 'Default route to ISP'

# Firewall (ejemplo básico)
set firewall name WAN-IN default-action drop
set firewall name WAN-IN rule 10 action accept
set firewall name WAN-IN rule 10 state established enable
set firewall name WAN-IN rule 10 state related enable

# Aplicar firewall a interfaz WAN
set interfaces ethernet eth0 firewall in name 'WAN-IN'

# Guardar cambios
commit
save
